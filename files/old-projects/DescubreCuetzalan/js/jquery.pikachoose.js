(function(b){var d={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},a=!1;b(window).bind("load.jcarousel",function(){a=!0});b.jcarousel=function(r,p){this.options=b.extend({},d,p||{});this.autoStopped=this.locked=!1;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;if(!p||p.rtl===void 0){this.options.rtl=(b(r).attr("dir")||b("html").attr("dir")||"").toLowerCase()=="rtl"}this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?this.options.rtl?"right":"left":"top";for(var q="",o=r.className.split(" "),m=0;m<o.length;m++){if(o[m].indexOf("jcarousel-skin")!=-1){b(r).removeClass(o[m]);q=o[m];break}}r.nodeName.toUpperCase()=="UL"||r.nodeName.toUpperCase()=="OL"?(this.list=b(r),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=b(r),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip"));if(this.clip.size()===0){this.clip=this.list.wrap("<div></div>").parent()}if(this.container.size()===0){this.container=this.clip.wrap("<div></div>").parent()}q!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+q+'"></div>');this.buttonPrev=b(".jcarousel-prev",this.container);if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null){this.buttonPrev=b(this.options.buttonPrevHTML).appendTo(this.container)}this.buttonPrev.addClass(this.className("jcarousel-prev"));this.buttonNext=b(".jcarousel-next",this.container);if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null){this.buttonNext=b(this.options.buttonNextHTML).appendTo(this.container)}this.buttonNext.addClass(this.className("jcarousel-next"));this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var g=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,q=this.list.children("li"),n=this;if(q.size()>0){var l=0,k=this.options.offset;q.each(function(){n.format(this,k++);l+=n.dimension(this,g)});this.list.css(this.wh,l+100+"px");if(!p||p.size===void 0){this.options.size=q.size()}}this.container.css("display","block");this.buttonNext.css("display","block");this.buttonPrev.css("display","block");this.funcNext=function(){n.next()};this.funcPrev=function(){n.prev()};this.funcResize=function(){n.resizeTimer&&clearTimeout(n.resizeTimer);n.resizeTimer=setTimeout(function(){n.reload()},100)};this.options.initCallback!==null&&this.options.initCallback(this,"init");!a&&b.browser.safari?(this.buttons(!1,!1),b(window).bind("load.jcarousel",function(){n.setup()})):this.setup()};var c=b.jcarousel;c.fn=c.prototype={jcarousel:"0.2.8"};c.fn.extend=c.extend=b.extend;c.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=!1;this.tail=this.resizeTimer=this.timer=null;this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var e=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null;this.animate(e,!1);b(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize);this.options.setupCallback!==null&&this.options.setupCallback(this)}},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");this.options.initCallback!==null&&this.options.initCallback(this,"reset");this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,c.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=!1;this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var f=this,h=Math.ceil(this.clipping()/this.options.visible),e=0,g=0;this.list.children("li").each(function(i){e+=f.dimension(this,h);i+1<f.first&&(g=e)});this.list.css(this.wh,e+"px");this.list.css(this.lt,-g+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0;this.buttons()},unlock:function(){this.locked=!1;this.buttons()},size:function(e){if(e!==void 0){this.options.size=e,this.locked||this.buttons()}return this.options.size},has:function(f,h){if(h===void 0||!h){h=f}if(this.options.size!==null&&h>this.options.size){h=this.options.size}for(var e=f;e<=h;e++){var g=this.get(e);if(!g.length||g.hasClass("jcarousel-item-placeholder")){return !1}}return !0},get:function(e){return b(">.jcarousel-item-"+e,this.list)},add:function(g,m){var f=this.get(g),l=0,k=b(m);if(f.length===0){for(var h,i=c.intval(g),f=this.create(g);;){if(h=this.get(--i),i<=0||h.length){i<=0?this.list.prepend(f):h.after(f);break}}}else{l=this.dimension(f)}k.get(0).nodeName.toUpperCase()=="LI"?(f.replaceWith(k),f=k):f.empty().append(m);this.format(f.removeClass(this.className("jcarousel-item-placeholder")),g);k=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;l=this.dimension(f,k)-l;g>0&&g<this.first&&this.list.css(this.lt,c.intval(this.list.css(this.lt))-l+"px");this.list.css(this.wh,c.intval(this.list.css(this.wh))+l+"px");return f},remove:function(f){var g=this.get(f);if(g.length&&!(f>=this.first&&f<=this.last)){var e=this.dimension(g);f<this.first&&this.list.css(this.lt,c.intval(this.list.css(this.lt))+e+"px");g.remove();this.list.css(this.wh,c.intval(this.list.css(this.wh))-e+"px")}},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(!1):this.scroll((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size?1:this.first+this.options.scroll)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(!0):this.scroll((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1?this.options.size:this.first-this.options.scroll)},scrollTail:function(e){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var f=c.intval(this.list.css(this.lt)),f=!e?f-this.tail:f+this.tail;this.inTail=!e;this.prevFirst=this.first;this.prevLast=this.last;this.animate(f)}},scroll:function(e,f){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(e),f))},pos:function(B,z){var A=c.intval(this.list.css(this.lt));if(this.locked||this.animating){return A}this.options.wrap!="circular"&&(B=B<1?1:this.options.size&&B>this.options.size?this.options.size:B);for(var y=this.first>B,w=this.options.wrap!="circular"&&this.first<=1?1:this.first,t=y?this.get(w):this.get(this.last),x=y?w:w-1,v=null,u=0,s=!1,r=0;y?--x>=B:++x<B;){v=this.get(x);s=!v.length;if(v.length===0&&(v=this.create(x).addClass(this.className("jcarousel-item-placeholder")),t[y?"before":"after"](v),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(x<=0||x>this.options.size))){t=this.get(this.index(x)),t.length&&(v=this.add(x,t.clone(!0)))}t=v;r=this.dimension(v);s&&(u+=r);if(this.first!==null&&(this.options.wrap=="circular"||x>=1&&(this.options.size===null||x<=this.options.size))){A=y?A+r:A-r}}for(var w=this.clipping(),q=[],f=0,p=0,t=this.get(B-1),x=B;++f;){v=this.get(x);s=!v.length;if(v.length===0){v=this.create(x).addClass(this.className("jcarousel-item-placeholder"));if(t.length===0){this.list.prepend(v)}else{t[y?"before":"after"](v)}if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(x<=0||x>this.options.size)){t=this.get(this.index(x)),t.length&&(v=this.add(x,t.clone(!0)))}}t=v;r=this.dimension(v);if(r===0){throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...")}this.options.wrap!="circular"&&this.options.size!==null&&x>this.options.size?q.push(v):s&&(u+=r);p+=r;if(p>=w){break}x++}for(v=0;v<q.length;v++){q[v].remove()}u>0&&(this.list.css(this.wh,this.dimension(this.list)+u+"px"),y&&(A-=u,this.list.css(this.lt,c.intval(this.list.css(this.lt))-u+"px")));u=B+f-1;if(this.options.wrap!="circular"&&this.options.size&&u>this.options.size){u=this.options.size}if(x>u){f=0;x=u;for(p=0;++f;){v=this.get(x--);if(!v.length){break}p+=this.dimension(v);if(p>=w){break}}}x=u-f+1;this.options.wrap!="circular"&&x<1&&(x=1);if(this.inTail&&y){A+=this.tail,this.inTail=!1}this.tail=null;if(this.options.wrap!="circular"&&u==this.options.size&&u-f+1>=1&&(y=c.intval(this.get(u).css(!this.options.vertical?"marginRight":"marginBottom")),p-y>w)){this.tail=p-w-y}if(z&&B===this.options.size&&this.tail){A-=this.tail,this.inTail=!0}for(;B-->x;){A+=this.dimension(this.get(B))}this.prevFirst=this.first;this.prevLast=this.last;this.first=x;this.last=u;return A},animate:function(g,j){if(!this.locked&&!this.animating){this.animating=!0;var e=this,i=function(){e.animating=!1;g===0&&e.list.css(e.lt,0);!e.autoStopped&&(e.options.wrap=="circular"||e.options.wrap=="both"||e.options.wrap=="last"||e.options.size===null||e.last<e.options.size||e.last==e.options.size&&e.tail!==null&&!e.inTail)&&e.startAuto();e.buttons();e.notify("onAfterAnimation");if(e.options.wrap=="circular"&&e.options.size!==null){for(var f=e.prevFirst;f<=e.prevLast;f++){f!==null&&!(f>=e.first&&f<=e.last)&&(f<1||f>e.options.size)&&e.remove(f)}}};this.notify("onBeforeAnimation");if(!this.options.animation||j===!1){this.list.css(this.lt,g+"px"),i()}else{var h=!this.options.vertical?this.options.rtl?{right:g}:{left:g}:{top:g},i={duration:this.options.animation,easing:this.options.easing,complete:i};if(b.isFunction(this.options.animationStepCallback)){i.step=this.options.animationStepCallback}this.list.animate(h,i)}}},startAuto:function(e){if(e!==void 0){this.options.auto=e}if(this.options.auto===0){return this.stopAuto()}if(this.timer===null){this.autoStopped=!1;var f=this;this.timer=window.setTimeout(function(){f.next()},this.options.auto*1000)}},stopAuto:function(){this.pauseAuto();this.autoStopped=!0},pauseAuto:function(){if(this.timer!==null){window.clearTimeout(this.timer),this.timer=null}},buttons:function(f,g){if(f==null&&(f=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size),!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size)){f=this.tail!==null&&!this.inTail}if(g==null&&(g=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1),!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1)){g=this.tail!==null&&this.inTail}var e=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),f&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[f?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",f?!1:!0),this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=f&&this.buttonNext.each(function(){e.options.buttonNextCallback(e,this,f)}).data("jcarouselstate",f)):this.options.buttonNextCallback!==null&&this.buttonNextState!=f&&this.options.buttonNextCallback(e,null,f);this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),g&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[g?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",g?!1:!0),this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=g&&this.buttonPrev.each(function(){e.options.buttonPrevCallback(e,this,g)}).data("jcarouselstate",g)):this.options.buttonPrevCallback!==null&&this.buttonPrevState!=g&&this.options.buttonPrevCallback(e,null,g);this.buttonNextState=f;this.buttonPrevState=g},notify:function(e){var f=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",e,f);this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",e,f,this.first),this.callback("itemFirstOutCallback",e,f,this.prevFirst));this.prevLast!==this.last&&(this.callback("itemLastInCallback",e,f,this.last),this.callback("itemLastOutCallback",e,f,this.prevLast));this.callback("itemVisibleInCallback",e,f,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",e,f,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(t,r,s,q,o,l,p){if(!(this.options[t]==null||typeof this.options[t]!="object"&&r!="onAfterAnimation")){var n=typeof this.options[t]=="object"?this.options[t][r]:this.options[t];if(b.isFunction(n)){var m=this;if(q===void 0){n(m,s,r)}else{if(o===void 0){this.get(q).each(function(){n(m,this,q,s,r)})}else{for(var t=function(e){m.get(e).each(function(){n(m,this,e,s,r)})},g=q;g<=o;g++){g!==null&&!(g>=l&&g<=p)&&t(g)}}}}}},create:function(e){return this.format("<li></li>",e)},format:function(f,h){for(var f=b(f),e=f.get(0).className.split(" "),g=0;g<e.length;g++){e[g].indexOf("jcarousel-")!=-1&&f.removeClass(e[g])}f.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+h)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",h);return f},className:function(e){return e+" "+e+(!this.options.vertical?"-horizontal":"-vertical")},dimension:function(f,h){var e=b(f);if(h==null){return !this.options.vertical?e.outerWidth(!0)||c.intval(this.options.itemFallbackDimension):e.outerHeight(!0)||c.intval(this.options.itemFallbackDimension)}else{var g=!this.options.vertical?h-c.intval(e.css("marginLeft"))-c.intval(e.css("marginRight")):h-c.intval(e.css("marginTop"))-c.intval(e.css("marginBottom"));b(e).css(this.wh,g+"px");return this.dimension(e)}},clipping:function(){return !this.options.vertical?this.clip[0].offsetWidth-c.intval(this.clip.css("borderLeftWidth"))-c.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-c.intval(this.clip.css("borderTopWidth"))-c.intval(this.clip.css("borderBottomWidth"))},index:function(e,f){if(f==null){f=this.options.size}return Math.round(((e-1)/f-Math.floor((e-1)/f))*f)+1}});c.extend({defaults:function(e){return b.extend(d,e||{})},intval:function(e){e=parseInt(e,10);return isNaN(e)?0:e},windowLoaded:function(){a=!0}});b.fn.jcarousel=function(f){if(typeof f=="string"){var g=b(this).data("jcarousel"),e=Array.prototype.slice.call(arguments,1);return g[f].apply(g,e)}else{return this.each(function(){var h=b(this).data("jcarousel");h?(f&&b.extend(h.options,f),h.reload()):b(this).data("jcarousel",new c(this,f))})}}})(jQuery);(function(b){var c={autoPlay:true,speed:5000,text:{play:"",stop:"",previous:" ",next:" ",loading:"Loading"},transition:[1],showCaption:true,IESafe:false,showTooltips:false,carousel:false,carouselVertical:false,animationFinished:null,buildFinished:null,bindFinished:null,startOn:0,thumbOpacity:0.4,hoverPause:false,animationSpeed:600,fadeThumbsIn:false,carouselOptions:{}};b.fn.PikaChoose=function(d){return this.each(function(){b(this).data("pikachoose",new a(this,d))})};b.PikaChoose=function(h,i){this.options=b.extend({},c,i||{});this.list=null;this.image=null;this.anchor=null;this.caption=null;this.imgNav=null;this.imgPlay=null;this.imgPrev=null;this.imgNext=null;this.textNext=null;this.textPrev=null;this.previous=null;this.next=null;this.aniWrap=null;this.aniDiv=null;this.aniImg=null;this.thumbs=null;this.transition=null;this.active=null;this.tooltip=null;this.animating=false;this.stillOut=null;this.counter=null;this.timeOut=null;if(typeof(this.options.data)!="undefined"){h=b("<ul></ul>").appendTo(h);b.each(this.options.data,function(){if(typeof(this.link)!="undefined"){var e=b("<li><a href='"+this.link+"'><img></a></li>").appendTo(h);if(typeof(this.title)!="undefined"){e.find("a").attr("title",this.title)}}else{var e=b("<li><img></li>").appendTo(h)}if(typeof(this.caption)!="undefined"){e.append("<span>"+this.caption+"</span>")}if(typeof(this.thumbnail)!="undefined"){e.find("img").attr("ref",this.image);e.find("img").attr("src",this.thumbnail)}else{e.find("img").attr("src",this.image)}})}if(h instanceof jQuery||h.nodeName.toUpperCase()=="UL"||h.nodeName.toUpperCase()=="OL"){this.list=b(h);this.build();this.bindEvents()}else{return}var j=0;var d=0;for(var g=0;g<25;g++){var f='<div col="'+j+'" row="'+d+'"></div>';this.aniDiv.append(f);j++;if(j==5){d++;j=0}}};var a=b.PikaChoose;a.fn=a.prototype={pikachoose:"4.4.3"};b.fn.pikachoose=b.fn.PikaChoose;a.fn.extend=a.extend=b.extend;a.fn.extend({build:function(){this.step=0;this.wrap=b("<div class='pika-stage'></div>").insertBefore(this.list);this.image=b("<img>").appendTo(this.wrap);this.imgNav=b("<div class='pika-imgnav'></div>").insertAfter(this.image);this.imgPlay=b("<a></a>").appendTo(this.imgNav);this.counter=b("<span class='pika-counter'></span>").appendTo(this.imgNav);if(this.options.autoPlay){this.imgPlay.addClass("pause")}else{this.imgPlay.addClass("play")}this.imgPrev=b("<a class='previous'></a>").insertAfter(this.imgPlay);this.imgNext=b("<a class='next'></a>").insertAfter(this.imgPrev);this.caption=b("<div class='caption'></div>").insertAfter(this.imgNav).hide();this.tooltip=b("<div class='pika-tooltip'></div>").insertAfter(this.list).hide();this.aniWrap=b("<div class='pika-aniwrap'></div>").insertAfter(this.caption);this.aniImg=b("<img>").appendTo(this.aniWrap).hide();this.aniDiv=b("<div class='pika-ani'></div>").appendTo(this.aniWrap);this.textNav=b("<div class='pika-textnav'></div>").insertAfter(this.aniWrap);this.textPrev=b("<a class='previous'>"+this.options.text.previous+"</a>").appendTo(this.textNav);this.textNext=b("<a class='next'>"+this.options.text.next+"</a>").appendTo(this.textNav);this.list.addClass("pika-thumbs");this.thumbs=this.list.find("img");this.loader=b("<div class='pika-loader'></div>").appendTo(this.wrap).hide().html(this.options.text.loading);this.active=this.thumbs.eq(this.options.startOn);this.finishAnimating({source:this.active.attr("ref")||this.active.attr("src"),caption:this.active.parents("li:first").find("span:first").html(),clickThrough:this.active.parent().attr("href")||"",clickThroughTitle:this.active.parent().attr("title")||""});this.aniDiv.css({position:"relative"});var e=this;this.updateThumbs();if(this.options.fadeThumbsIn){this.list.fadeIn()}if(this.options.carousel){var d={vertical:this.options.carouselVertical,initCallback:function(g){jQuery(g.list).find("img").click(function(k,h){if(typeof(h)!=="undefined"&&h.how=="auto"){if(e.options.autoPlay==false){return false}}var i=parseInt(jQuery(this).parents(".jcarousel-item").attr("jcarouselindex"));var j=(jQuery(this).parents("ul").find("li:last").attr("jcarouselindex")==i-1)?true:false;if(!j){i=(i-2<=0)?0:i-2}i++;g.scroll(i)})}};var f=b.extend({},d,this.options.carouselOptions||{});this.list.jcarousel(f)}if(typeof(this.options.buildFinished)=="function"){this.options.buildFinished(this)}},createThumb:function(g){var d=g;var e=this;this.thumbs=this.list.find("img");if(typeof b.data(g[0],"source")!=="undefined"){return}g.parents("li:first").wrapInner("<div class='clip' />");d.hide();b.data(g[0],"clickThrough",d.parent("a").attr("href")||"");b.data(g[0],"clickThroughTitle",d.parent("a").attr("title")||"");if(d.parent("a").length>0){d.unwrap()}b.data(g[0],"caption",d.next("span").html()||"");d.next("span").remove();b.data(g[0],"source",d.attr("ref")||d.attr("src"));b.data(g[0],"order",d.closest("ul").find("li").index(d.parents("li")));var f=b.data(g[0]);b("<img />").bind("load",{data:f},function(){if(typeof(e.options.buildThumbStart)=="function"){e.options.buildThumbStart(e)}var k=b(this);var i=this.width;var n=this.height;if(i===0){i=k.attr("width")}if(n===0){n=k.attr("height")}var p=parseInt(d.parents(".clip").css("height").slice(0,-2));var m=parseInt(d.parents(".clip").css("width").slice(0,-2));if(m==0){m=d.parents("li:first").outerWidth()}if(p==0){p=d.parents("li:first").outerHeight()}var o=m/i;var j=p/n;var l;if(o<j){d.css({height:"100%"})}else{d.css({width:"100%"})}d.hover(function(h){clearTimeout(e.stillOut);b(this).stop(true,true).fadeTo(250,1);if(!e.options.showTooltips){return}e.tooltip.show().stop(true,true).html(f.caption).animate({top:b(this).parent().position().top,left:b(this).parent().position().left,opacity:1},"fast")},function(h){if(!b(this).hasClass("active")){b(this).stop(true,true).fadeTo(250,e.options.thumbOpacity);e.stillOut=setTimeout(e.hideTooltip,700)}});if(f.order==e.options.startOn){d.fadeTo(250,1);d.addClass("active");d.parents("li").eq(0).addClass("active")}else{d.fadeTo(250,e.options.thumbOpacity)}if(typeof(e.options.buildThumbFinish)=="function"){e.options.buildThumbFinish(e)}}).attr("src",d.attr("src"))},bindEvents:function(){this.thumbs.bind("click",{self:this},this.imgClick);this.imgNext.bind("click",{self:this},this.nextClick);this.textNext.bind("click",{self:this},this.nextClick);this.imgPrev.bind("click",{self:this},this.prevClick);this.textPrev.bind("click",{self:this},this.prevClick);this.imgPlay.unbind("click").bind("click",{self:this},this.playClick);this.wrap.unbind("mouseenter").bind("mouseenter",{self:this},function(d){d.data.self.imgNav.stop(true,true).fadeTo("slow",1);if(d.data.self.options.hoverPause==true){clearTimeout(d.data.self.timeOut)}});this.wrap.unbind("mouseleave").bind("mouseleave",{self:this},function(d){d.data.self.imgNav.stop(true,true).fadeTo("slow",0);if(d.data.self.options.autoPlay==true&&d.data.self.options.hoverPause){d.data.self.timeOut=setTimeout((function(e){return function(){e.nextClick()}})(d.data.self),d.data.self.options.speed)}});this.tooltip.unbind("mouseenter").bind("mouseenter",{self:this},function(d){clearTimeout(d.data.self.stillOut)});this.tooltip.unbind("mouseleave").bind("mouseleave",{self:this},function(d){d.data.self.stillOut=setTimeout(d.data.self.hideTooltip,700)});if(typeof(this.options.bindsFinished)=="function"){this.options.bindsFinished(this)}},hideTooltip:function(d){b(".pika-tooltip").animate({opacity:0.01})},imgClick:function(h,d){var f=h.data.self;var g=b.data(this);if(f.animating){return}if(typeof(d)=="undefined"||d.how!="auto"){if(f.options.autoPlay){f.imgPlay.trigger("click")}}else{if(f.options.autoPlay==false){return false}}if(b(this).attr("src")!==b.data(this).source){f.loader.fadeIn("fast")}f.caption.fadeOut("slow");f.animating=true;f.active.fadeTo(300,f.options.thumbOpacity).removeClass("active");f.active.parents(".active").eq(0).removeClass("active");f.active=b(this);f.active.addClass("active").fadeTo(200,1);f.active.parents("li").eq(0).addClass("active");b("<img />").bind("load",{self:f,data:g},function(){f.loader.fadeOut("fast");f.aniDiv.css({height:f.image.height(),width:f.image.width()}).show();f.aniDiv.children("div").css({width:"20%",height:"20%","float":"left"});var e=0;if(f.options.transition[0]==-1){e=Math.floor(Math.random()*7)+1}else{e=f.options.transition[f.step];f.step++;if(f.step>=f.options.transition.length){f.step=0}}if(f.options.IESafe&&b.browser.msie){e=1}f.doAnimation(e,g)}).attr("src",b.data(this).source)},doAnimation:function(i,g){this.aniWrap.css({position:"absolute",top:this.image.position().top,left:this.image.position().left});var e=this;e.image.stop(true,false);e.caption.stop().fadeOut();var f=e.aniDiv.children("div").eq(0).width();var h=e.aniDiv.children("div").eq(0).height();var d=new Image();b(d).attr("src",g.source);if(d.height!=e.image.height()||d.width!=e.image.width()){if(i!=0&&i!=1&&i!=7){}}e.aniDiv.css({height:e.image.height(),width:e.image.width()});e.aniDiv.children().each(function(){var l=b(this);var j=Math.floor(l.parent().width()/5)*l.attr("col");var k=Math.floor(l.parent().height()/5)*l.attr("row");l.css({background:"url("+g.source+") -"+j+"px -"+k+"px","background-size":l.parent().width()+"px "+l.parent().height()+"px",width:"0px",height:"0px",position:"absolute",top:k+"px",left:j+"px","float":"none"})});e.aniDiv.hide();e.aniImg.hide();switch(i){case 0:e.image.stop(true,true).fadeOut(e.options.animationSpeed,function(){e.image.attr("src",g.source).fadeIn(e.options.animationSpeed,function(){e.finishAnimating(g)})});break;case 1:e.aniDiv.hide();e.aniImg.height(e.image.height()).hide().attr("src",g.source);e.wrap.css({height:e.image.height()});b.when(e.image.fadeOut(e.options.animationSpeed),e.aniImg.eq(0).fadeIn(e.options.animationSpeed)).done(function(){e.finishAnimating(g)});break;case 2:e.aniDiv.show().children().hide().each(function(k){var j=k*30;b(this).css({opacity:0.1}).show().delay(j).animate({opacity:1,width:f,height:h},200,"linear",function(){if(e.aniDiv.find("div").index(this)==24){e.finishAnimating(g)}})});break;case 3:e.aniDiv.show().children("div:lt(5)").hide().each(function(k){var j=b(this).attr("col")*100;b(this).css({opacity:0.1,width:f}).show().delay(j).animate({opacity:1,height:e.image.height()},e.options.animationSpeed,"linear",function(){if(e.aniDiv.find(" div").index(this)==4){e.finishAnimating(g)}})});break;case 4:e.aniDiv.show().children().hide().each(function(k){if(k>4){return}var j=b(this).attr("col")*30;var m=e.gapper(b(this),h,f);var l=e.options.animationSpeed*0.7;b(this).css({opacity:0.1,height:"100%"}).show().delay(j).animate({opacity:1,width:m.width},l,"linear",function(){if(e.aniDiv.find(" div").index(this)==4){e.finishAnimating(g)}})});break;case 5:e.aniDiv.show().children().show().each(function(k){var j=k*Math.floor(Math.random()*5)*7;var l=e.gapper(b(this),h,f);if(b(".animation div").index(this)==24){j=700}b(this).css({height:l.height,width:l.width,opacity:0.01}).delay(j).animate({opacity:1},e.options.animationSpeed,function(){if(e.aniDiv.find(" div").index(this)==24){e.finishAnimating(g)}})});break;case 6:e.aniDiv.height(e.image.height()).hide().css({background:"url("+g.source+") top left no-repeat"});e.aniDiv.children("div").hide();e.aniDiv.css({width:0}).show().animate({width:e.image.width()},e.options.animationSpeed,function(){e.finishAnimating(g);e.aniDiv.css({background:"transparent"})});break;case 7:e.wrap.css({overflow:"hidden"});e.aniImg.height(e.image.height()).hide().attr("src",g.source);e.aniDiv.hide();e.image.css({position:"relative"}).animate({left:"-"+e.wrap.outerWidth()+"px"});e.aniImg.show();e.aniWrap.css({left:e.wrap.outerWidth()}).show().animate({left:"0px"},e.options.animationSpeed,function(){e.finishAnimating(g)});break}},finishAnimating:function(f){this.animating=false;this.image.attr("src",f.source);this.image.css({left:"0"});this.image.show();var d=this;b("<img />").bind("load",function(){d.aniImg.fadeOut("fast");d.aniDiv.fadeOut("fast")}).attr("src",f.source);var g=this.list.find("img").index(this.active);g++;var e=this.list.find("img").length;this.counter.html(g+"/"+e);if(f.clickThrough!=""){if(this.anchor==null){this.anchor=this.image.wrap("<a>").parent()}this.anchor.attr("href",f.clickThrough);this.anchor.attr("title",f.clickThroughTitle)}else{if(this.image.parent("a").length>0){this.image.unwrap()}this.anchor=null}if(this.options.showCaption&&f.caption!=""&&f.caption!=null){this.caption.html(f.caption).fadeTo("slow",1)}if(this.options.autoPlay==true){var d=this;this.timeOut=setTimeout((function(h){return function(){h.nextClick()}})(this),this.options.speed,this.timeOut)}if(typeof(this.options.animationFinished)=="function"){this.options.animationFinished(this)}},gapper:function(e,f,d){var g;if(e.attr("row")==4){g=(this.aniDiv.height()-(f*5))+f;f=g}if(e.attr("col")==4){g=(this.aniDiv.width()-(d*5))+d;d=g}return{height:f,width:d}},nextClick:function(i){var g="natural";try{var d=i.data.self;if(typeof(i.data.self.options.next)=="function"){i.data.self.options.next(this)}}catch(h){var d=this;g="auto"}var f=d.active.parents("li:first").next().find("img");if(f.length==0){f=d.list.find("img").eq(0)}f.trigger("click",{how:g})},prevClick:function(g){if(typeof(g.data.self.options.previous)=="function"){g.data.self.options.previous(this)}var d=g.data.self;var f=d.active.parents("li:first").prev().find("img");if(f.length==0){f=d.list.find("img:last")}f.trigger("click")},playClick:function(f){var d=f.data.self;d.options.autoPlay=!d.options.autoPlay;d.imgPlay.toggleClass("play").toggleClass("pause");if(d.options.autoPlay){d.nextClick()}},Next:function(){var d={data:{self:this}};this.nextClick(d)},Play:function(){if(this.options.autoPlay){return}var d={data:{self:this}};this.playClick(d)},Pause:function(){if(!this.options.autoPlay){return}var d={data:{self:this}};this.playClick(d)},updateThumbs:function(){var d=this;this.thumbs=this.list.find("img");this.thumbs.each(function(){d.createThumb(b(this),d)})}})})(jQuery);